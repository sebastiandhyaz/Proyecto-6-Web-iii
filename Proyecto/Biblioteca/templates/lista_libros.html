

{% extends 'base.html' %}

{% block title %}Libros{% endblock %}

{% block content %}

<div style="background:#fff;border-radius:12px;box-shadow:0 2px 8px #0001;padding:2rem 2.5rem;max-width:1000px;margin:2rem auto;">
    <h2 style="font-size:2rem;color:#197278;margin-bottom:1.5rem;">Libros</h2>
    <div style="display:flex;gap:2rem;flex-wrap:wrap;justify-content:space-between;">
        <a href="{% url 'crear_libro' %}" style="flex:1;text-align:center;background:#197278;color:#fff;padding:1rem 0;border-radius:8px;text-decoration:none;font-weight:600;">Agregar Libro</a>
        <a href="{% url 'lista_libros' %}" style="flex:1;text-align:center;background:#197278;color:#fff;padding:1rem 0;border-radius:8px;text-decoration:none;font-weight:600;">Listado de Libros</a>
        <a href="#" style="flex:1;text-align:center;background:#197278;color:#fff;padding:1rem 0;border-radius:8px;text-decoration:none;font-weight:600;">Buscar Libro</a>
    </div>

    <ul style="margin-top:2rem;">
                {% for libro in libros %}
        <li style="display:flex;align-items:center;justify-content:space-between;gap:2rem;padding:1.5rem 0;border-bottom:1px solid #eee;">
            <div style="display:flex;align-items:center;gap:2rem;">
                {% if libro.imagen %}
                    <img src="{{ libro.imagen.url }}" alt="Portada" style="width:120px;height:160px;object-fit:cover;border-radius:8px;">
                {% else %}
                    <div style="width:120px;height:160px;background:#ccc;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;color:#555;">Sin imagen</div>
                {% endif %}
                <div>
                    <strong style="font-size:1.5rem;">{{ libro.titulo }}</strong><br>
                    <span style="font-size:1.1rem;">{{ libro.autor }}</span><br>
                    <small style="font-size:1rem;">Editorial: {{ libro.editorial }}, Stock: {{ libro.stock_disponible }}</small>
                </div>
            </div>
            <span>
    <a href="{% url 'editar_libro' libro.id %}" 
       style="font-size:1.3rem;padding:.7rem 1.5rem;background:#197278;color:#fff;border-radius:6px;text-decoration:none;margin-right:1rem;">
       Editar
    </a>
    <a href="{% url 'eliminar_libro' libro.id %}" 
       style="font-size:1.3rem;padding:.7rem 1.5rem;background:#d7263d;color:#fff;border-radius:6px;text-decoration:none;">
       Eliminar
    </a>
</span>
        </li>
        {% empty %}
        <li>No hay libros registrados.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    anime({
        targets: 'ul',
        translateY: [30, 0],
        opacity: [0, 1],
        duration: 700,
        delay: 200,
        easing: 'easeOutExpo'
    });
</script>

{% endblock %}
